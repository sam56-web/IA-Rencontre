// DICTIONNAIRE COMPLET : mots/synonymes â†’ thÃ©matiques et intentions

const KEYWORD_MAP: Record<string, { theme?: string; intention?: string }> = {

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // MUSIQUE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'musique': { theme: 'musique' },
  'musicien': { theme: 'musique' },
  'musicienne': { theme: 'musique' },
  'chanteur': { theme: 'musique' },
  'chanteuse': { theme: 'musique' },
  'chanter': { theme: 'musique' },
  'guitare': { theme: 'musique' },
  'guitariste': { theme: 'musique' },
  'piano': { theme: 'musique' },
  'pianiste': { theme: 'musique' },
  'batterie': { theme: 'musique' },
  'batteur': { theme: 'musique' },
  'violon': { theme: 'musique' },
  'violoniste': { theme: 'musique' },
  'saxophone': { theme: 'musique' },
  'trompette': { theme: 'musique' },
  'flÃ»te': { theme: 'musique' },
  'basse': { theme: 'musique' },
  'bassiste': { theme: 'musique' },
  'concert': { theme: 'musique' },
  'concerts': { theme: 'musique' },
  'festival': { theme: 'musique' },
  'groupe': { theme: 'musique' },
  'band': { theme: 'musique' },
  'jazz': { theme: 'musique' },
  'rock': { theme: 'musique' },
  'pop': { theme: 'musique' },
  'classique': { theme: 'musique' },
  'rap': { theme: 'musique' },
  'hiphop': { theme: 'musique' },
  'hip-hop': { theme: 'musique' },
  'electro': { theme: 'musique' },
  'techno': { theme: 'musique' },
  'house': { theme: 'musique' },
  'reggae': { theme: 'musique' },
  'metal': { theme: 'musique' },
  'punk': { theme: 'musique' },
  'blues': { theme: 'musique' },
  'soul': { theme: 'musique' },
  'funk': { theme: 'musique' },
  'rnb': { theme: 'musique' },
  'r&b': { theme: 'musique' },
  'dj': { theme: 'musique' },
  'deejay': { theme: 'musique' },
  'platines': { theme: 'musique' },
  'mix': { theme: 'musique' },
  'remix': { theme: 'musique' },
  'composer': { theme: 'musique' },
  'compositeur': { theme: 'musique' },
  'composition': { theme: 'musique' },
  'mÃ©lodie': { theme: 'musique' },
  'chanson': { theme: 'musique' },
  'chansons': { theme: 'musique' },
  'karaokÃ©': { theme: 'musique' },
  'chorale': { theme: 'musique' },
  'orchestre': { theme: 'musique' },
  'conservatoire': { theme: 'musique' },
  'solfÃ¨ge': { theme: 'musique' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ART / CRÃ‰ATION
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'art': { theme: 'art' },
  'arts': { theme: 'art' },
  'artiste': { theme: 'art' },
  'artistique': { theme: 'art' },
  'peintre': { theme: 'art' },
  'peinture': { theme: 'art' },
  'peindre': { theme: 'art' },
  'tableau': { theme: 'art' },
  'tableaux': { theme: 'art' },
  'toile': { theme: 'art' },
  'dessin': { theme: 'art' },
  'dessiner': { theme: 'art' },
  'dessinateur': { theme: 'art' },
  'croquis': { theme: 'art' },
  'esquisse': { theme: 'art' },
  'sculpture': { theme: 'art' },
  'sculpteur': { theme: 'art' },
  'sculter': { theme: 'art' },
  'poterie': { theme: 'art' },
  'cÃ©ramique': { theme: 'art' },
  'crÃ©atif': { theme: 'art' },
  'crÃ©ative': { theme: 'art' },
  'crÃ©ativitÃ©': { theme: 'art' },
  'crÃ©ation': { theme: 'art' },
  'crÃ©er': { theme: 'art' },
  'illustration': { theme: 'art' },
  'illustrateur': { theme: 'art' },
  'illustratrice': { theme: 'art' },
  'graphiste': { theme: 'art' },
  'graphisme': { theme: 'art' },
  'design': { theme: 'art' },
  'designer': { theme: 'art' },
  'ux': { theme: 'art' },
  'ui': { theme: 'art' },
  'webdesign': { theme: 'art' },
  'logo': { theme: 'art' },
  'affiche': { theme: 'art' },
  'aquarelle': { theme: 'art' },
  'acrylique': { theme: 'art' },
  'huile': { theme: 'art' },
  'pastel': { theme: 'art' },
  'fusain': { theme: 'art' },
  'gravure': { theme: 'art' },
  'collage': { theme: 'art' },
  'street-art': { theme: 'art' },
  'streetart': { theme: 'art' },
  'graffiti': { theme: 'art' },
  'tag': { theme: 'art' },
  'fresque': { theme: 'art' },
  'galerie': { theme: 'art' },
  'exposition': { theme: 'art' },
  'expo': { theme: 'art' },
  'musÃ©e': { theme: 'art' },
  'vernissage': { theme: 'art' },
  'atelier': { theme: 'art' },
  'beaux-arts': { theme: 'art' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PHOTOGRAPHIE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'photo': { theme: 'photo' },
  'photos': { theme: 'photo' },
  'photographie': { theme: 'photo' },
  'photographe': { theme: 'photo' },
  'photographier': { theme: 'photo' },
  'appareil': { theme: 'photo' },
  'reflex': { theme: 'photo' },
  'objectif': { theme: 'photo' },
  'portrait': { theme: 'photo' },
  'portraits': { theme: 'photo' },
  'paysage': { theme: 'photo' },
  'paysages': { theme: 'photo' },
  'macro': { theme: 'photo' },
  'lightroom': { theme: 'photo' },
  'photoshop': { theme: 'photo' },
  'retouche': { theme: 'photo' },
  'shooting': { theme: 'photo' },
  'studio': { theme: 'photo' },
  'argentique': { theme: 'photo' },
  'numÃ©rique': { theme: 'photo' },
  'instagram': { theme: 'photo' },
  'instagrameur': { theme: 'photo' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // CINÃ‰MA / SÃ‰RIES
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'cinÃ©ma': { theme: 'cinema' },
  'cinema': { theme: 'cinema' },
  'cinÃ©': { theme: 'cinema' },
  'film': { theme: 'cinema' },
  'films': { theme: 'cinema' },
  'cinÃ©phile': { theme: 'cinema' },
  'sÃ©rie': { theme: 'cinema' },
  'sÃ©ries': { theme: 'cinema' },
  'series': { theme: 'cinema' },
  'netflix': { theme: 'cinema' },
  'rÃ©alisateur': { theme: 'cinema' },
  'rÃ©alisatrice': { theme: 'cinema' },
  'rÃ©alisation': { theme: 'cinema' },
  'scÃ©nario': { theme: 'cinema' },
  'scÃ©nariste': { theme: 'cinema' },
  'acteur': { theme: 'cinema' },
  'actrice': { theme: 'cinema' },
  'comÃ©dien': { theme: 'cinema' },
  'comÃ©dienne': { theme: 'cinema' },
  'thÃ©Ã¢tre': { theme: 'cinema' },
  'theatre': { theme: 'cinema' },
  'comÃ©die': { theme: 'cinema' },
  'drame': { theme: 'cinema' },
  'thriller': { theme: 'cinema' },
  'horreur': { theme: 'cinema' },
  'science-fiction': { theme: 'cinema' },
  'sf': { theme: 'cinema' },
  'fantastique': { theme: 'cinema' },
  'documentaire': { theme: 'cinema' },
  'animation': { theme: 'cinema' },
  'anime': { theme: 'cinema' },
  'manga': { theme: 'cinema' },
  'court-mÃ©trage': { theme: 'cinema' },
  'tournage': { theme: 'cinema' },
  'montage': { theme: 'cinema' },
  'vidÃ©o': { theme: 'cinema' },
  'youtube': { theme: 'cinema' },
  'youtuber': { theme: 'cinema' },
  'youtubeur': { theme: 'cinema' },
  'streaming': { theme: 'cinema' },
  'blockbuster': { theme: 'cinema' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // LITTÃ‰RATURE / Ã‰CRITURE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'livre': { theme: 'litterature' },
  'livres': { theme: 'litterature' },
  'lecture': { theme: 'litterature' },
  'lire': { theme: 'litterature' },
  'lecteur': { theme: 'litterature' },
  'lectrice': { theme: 'litterature' },
  'littÃ©rature': { theme: 'litterature' },
  'litterature': { theme: 'litterature' },
  'roman': { theme: 'litterature' },
  'romans': { theme: 'litterature' },
  'nouvelle': { theme: 'litterature' },
  'nouvelles': { theme: 'litterature' },
  'poÃ©sie': { theme: 'litterature' },
  'poÃ¨me': { theme: 'litterature' },
  'poÃ¨te': { theme: 'litterature' },
  'Ã©crivain': { theme: 'litterature' },
  'Ã©crivaine': { theme: 'litterature' },
  'auteur': { theme: 'litterature' },
  'autrice': { theme: 'litterature' },
  'Ã©crire': { theme: 'litterature' },
  'Ã©criture': { theme: 'litterature' },
  'rÃ©daction': { theme: 'litterature' },
  'rÃ©dacteur': { theme: 'litterature' },
  'journaliste': { theme: 'litterature' },
  'journalisme': { theme: 'litterature' },
  'blog': { theme: 'litterature' },
  'blogueur': { theme: 'litterature' },
  'blogueuse': { theme: 'litterature' },
  'essai': { theme: 'litterature' },
  'biographie': { theme: 'litterature' },
  'autobiographie': { theme: 'litterature' },
  'bd': { theme: 'litterature' },
  'bande-dessinÃ©e': { theme: 'litterature' },
  'comics': { theme: 'litterature' },
  'bibliothÃ¨que': { theme: 'litterature' },
  'librairie': { theme: 'litterature' },
  'bouquin': { theme: 'litterature' },
  'bouquiner': { theme: 'litterature' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // SCIENCE / TECH
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'science': { theme: 'science' },
  'sciences': { theme: 'science' },
  'scientifique': { theme: 'science' },
  'recherche': { theme: 'science' },
  'chercheur': { theme: 'science' },
  'chercheuse': { theme: 'science' },
  'labo': { theme: 'science' },
  'laboratoire': { theme: 'science' },
  'physique': { theme: 'science' },
  'chimie': { theme: 'science' },
  'biologie': { theme: 'science' },
  'mathÃ©matiques': { theme: 'science' },
  'maths': { theme: 'science' },
  'astronomie': { theme: 'science' },
  'espace': { theme: 'science' },
  'tech': { theme: 'science' },
  'technologie': { theme: 'science' },
  'technologies': { theme: 'science' },
  'informatique': { theme: 'science' },
  'dÃ©veloppeur': { theme: 'science' },
  'dÃ©veloppeuse': { theme: 'science' },
  'dev': { theme: 'science' },
  'programmeur': { theme: 'science' },
  'programmeuse': { theme: 'science' },
  'programmer': { theme: 'science' },
  'programmation': { theme: 'science' },
  'code': { theme: 'science' },
  'coder': { theme: 'science' },
  'codeur': { theme: 'science' },
  'coding': { theme: 'science' },
  'software': { theme: 'science' },
  'hardware': { theme: 'science' },
  'web': { theme: 'science' },
  'internet': { theme: 'science' },
  'startup': { theme: 'science' },
  'startups': { theme: 'science' },
  'entrepreneur': { theme: 'science' },
  'geek': { theme: 'science' },
  'nerd': { theme: 'science' },
  'ia': { theme: 'science' },
  'intelligence artificielle': { theme: 'science' },
  'machine learning': { theme: 'science' },
  'data': { theme: 'science' },
  'donnÃ©es': { theme: 'science' },
  'blockchain': { theme: 'science' },
  'crypto': { theme: 'science' },
  'robot': { theme: 'science' },
  'robotique': { theme: 'science' },
  'ingÃ©nieur': { theme: 'science' },
  'ingÃ©nieure': { theme: 'science' },
  'Ã©lectronique': { theme: 'science' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // POLITIQUE / SOCIÃ‰TÃ‰
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'politique': { theme: 'politique' },
  'politiques': { theme: 'politique' },
  'politisÃ©': { theme: 'politique' },
  'dÃ©bat': { theme: 'politique' },
  'dÃ©bats': { theme: 'politique' },
  'dÃ©battre': { theme: 'politique' },
  'militant': { theme: 'politique' },
  'militante': { theme: 'politique' },
  'militantisme': { theme: 'politique' },
  'engagement': { theme: 'politique' },
  'engagÃ©': { theme: 'politique' },
  'engagÃ©e': { theme: 'politique' },
  'activiste': { theme: 'politique' },
  'activisme': { theme: 'politique' },
  'sociÃ©tÃ©': { theme: 'politique' },
  'social': { theme: 'politique' },
  'sociale': { theme: 'politique' },
  'sociaux': { theme: 'politique' },
  'citoyen': { theme: 'politique' },
  'citoyenne': { theme: 'politique' },
  'citoyennetÃ©': { theme: 'politique' },
  'dÃ©mocratie': { theme: 'politique' },
  'Ã©conomie': { theme: 'politique' },
  'Ã©conomique': { theme: 'politique' },
  'gÃ©opolitique': { theme: 'politique' },
  'histoire': { theme: 'politique' },
  'historien': { theme: 'politique' },
  'actualitÃ©': { theme: 'politique' },
  'actualitÃ©s': { theme: 'politique' },
  'news': { theme: 'politique' },
  'fÃ©minisme': { theme: 'politique' },
  'fÃ©ministe': { theme: 'politique' },
  'Ã©galitÃ©': { theme: 'politique' },
  'droits': { theme: 'politique' },
  'justice': { theme: 'politique' },
  'humanitaire': { theme: 'politique' },
  'association': { theme: 'politique' },
  'bÃ©nÃ©vole': { theme: 'politique' },
  'bÃ©nÃ©volat': { theme: 'politique' },
  'ong': { theme: 'politique' },
  'solidaritÃ©': { theme: 'politique' },
  'solidaire': { theme: 'politique' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // PHILOSOPHIE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'philosophie': { theme: 'philosophie' },
  'philo': { theme: 'philosophie' },
  'philosophe': { theme: 'philosophie' },
  'philosopher': { theme: 'philosophie' },
  'philosophique': { theme: 'philosophie' },
  'penseur': { theme: 'philosophie' },
  'penser': { theme: 'philosophie' },
  'pensÃ©e': { theme: 'philosophie' },
  'rÃ©flexion': { theme: 'philosophie' },
  'rÃ©flÃ©chir': { theme: 'philosophie' },
  'sagesse': { theme: 'philosophie' },
  'existentiel': { theme: 'philosophie' },
  'existentialisme': { theme: 'philosophie' },
  'mÃ©taphysique': { theme: 'philosophie' },
  'Ã©thique': { theme: 'philosophie' },
  'morale': { theme: 'philosophie' },
  'sens': { theme: 'philosophie' },
  'questionnement': { theme: 'philosophie' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // VOYAGE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'voyage': { theme: 'voyage' },
  'voyages': { theme: 'voyage' },
  'voyager': { theme: 'voyage' },
  'voyageur': { theme: 'voyage' },
  'voyageuse': { theme: 'voyage' },
  'travel': { theme: 'voyage' },
  'traveler': { theme: 'voyage' },
  'nomade': { theme: 'voyage' },
  'digital nomad': { theme: 'voyage' },
  'aventure': { theme: 'voyage' },
  'aventurier': { theme: 'voyage' },
  'aventuriÃ¨re': { theme: 'voyage' },
  'exploration': { theme: 'voyage' },
  'explorer': { theme: 'voyage' },
  'explorateur': { theme: 'voyage' },
  'dÃ©couverte': { theme: 'voyage' },
  'dÃ©couvrir': { theme: 'voyage' },
  'backpack': { theme: 'voyage' },
  'backpacker': { theme: 'voyage' },
  'sac Ã  dos': { theme: 'voyage' },
  'roadtrip': { theme: 'voyage' },
  'road trip': { theme: 'voyage' },
  'tour du monde': { theme: 'voyage' },
  'expat': { theme: 'voyage' },
  'expatriÃ©': { theme: 'voyage' },
  'expatriÃ©e': { theme: 'voyage' },
  'Ã©tranger': { theme: 'voyage' },
  'international': { theme: 'voyage' },
  'interculturel': { theme: 'voyage' },
  'culture': { theme: 'voyage' },
  'cultures': { theme: 'voyage' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // SPORT / FITNESS
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'sport': { theme: 'sport' },
  'sports': { theme: 'sport' },
  'sportif': { theme: 'sport' },
  'sportive': { theme: 'sport' },
  'athlÃ¨te': { theme: 'sport' },
  'fitness': { theme: 'sport' },
  'musculation': { theme: 'sport' },
  'muscu': { theme: 'sport' },
  'gym': { theme: 'sport' },
  'salle': { theme: 'sport' },
  'crossfit': { theme: 'sport' },
  'yoga': { theme: 'sport' },
  'pilates': { theme: 'sport' },
  'stretching': { theme: 'sport' },
  'running': { theme: 'sport' },
  'courir': { theme: 'sport' },
  'course': { theme: 'sport' },
  'jogging': { theme: 'sport' },
  'marathon': { theme: 'sport' },
  'trail': { theme: 'sport' },
  'vÃ©lo': { theme: 'sport' },
  'cyclisme': { theme: 'sport' },
  'vtt': { theme: 'sport' },
  'cycliste': { theme: 'sport' },
  'natation': { theme: 'sport' },
  'nager': { theme: 'sport' },
  'piscine': { theme: 'sport' },
  'plongÃ©e': { theme: 'sport' },
  'surf': { theme: 'sport' },
  'surfeur': { theme: 'sport' },
  'kitesurf': { theme: 'sport' },
  'voile': { theme: 'sport' },
  'rando': { theme: 'sport' },
  'randonnÃ©e': { theme: 'sport' },
  'randonneur': { theme: 'sport' },
  'marche': { theme: 'sport' },
  'montagne': { theme: 'sport' },
  'alpinisme': { theme: 'sport' },
  'escalade': { theme: 'sport' },
  'grimpe': { theme: 'sport' },
  'grimper': { theme: 'sport' },
  'ski': { theme: 'sport' },
  'snowboard': { theme: 'sport' },
  'foot': { theme: 'sport' },
  'football': { theme: 'sport' },
  'rugby': { theme: 'sport' },
  'tennis': { theme: 'sport' },
  'basket': { theme: 'sport' },
  'basketball': { theme: 'sport' },
  'volley': { theme: 'sport' },
  'handball': { theme: 'sport' },
  'boxe': { theme: 'sport' },
  'boxeur': { theme: 'sport' },
  'arts martiaux': { theme: 'sport' },
  'judo': { theme: 'sport' },
  'karatÃ©': { theme: 'sport' },
  'taekwondo': { theme: 'sport' },
  'mma': { theme: 'sport' },
  'danse': { theme: 'sport' },
  'danser': { theme: 'sport' },
  'danseur': { theme: 'sport' },
  'danseuse': { theme: 'sport' },
  'salsa': { theme: 'sport' },
  'tango': { theme: 'sport' },
  'Ã©quitation': { theme: 'sport' },
  'cheval': { theme: 'sport' },
  'golf': { theme: 'sport' },
  'paddle': { theme: 'sport' },
  'kayak': { theme: 'sport' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // CUISINE / GASTRONOMIE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'cuisine': { theme: 'cuisine' },
  'cuisiner': { theme: 'cuisine' },
  'cuisinier': { theme: 'cuisine' },
  'cuisiniÃ¨re': { theme: 'cuisine' },
  'culinaire': { theme: 'cuisine' },
  'chef': { theme: 'cuisine' },
  'gastronomie': { theme: 'cuisine' },
  'gastronome': { theme: 'cuisine' },
  'foodie': { theme: 'cuisine' },
  'food': { theme: 'cuisine' },
  'gourmand': { theme: 'cuisine' },
  'gourmande': { theme: 'cuisine' },
  'gourmet': { theme: 'cuisine' },
  'recette': { theme: 'cuisine' },
  'recettes': { theme: 'cuisine' },
  'plat': { theme: 'cuisine' },
  'plats': { theme: 'cuisine' },
  'repas': { theme: 'cuisine' },
  'pÃ¢tisserie': { theme: 'cuisine' },
  'pÃ¢tissier': { theme: 'cuisine' },
  'boulangerie': { theme: 'cuisine' },
  'gÃ¢teau': { theme: 'cuisine' },
  'dessert': { theme: 'cuisine' },
  'vin': { theme: 'cuisine' },
  'vins': { theme: 'cuisine' },
  'oenologie': { theme: 'cuisine' },
  'sommelier': { theme: 'cuisine' },
  'dÃ©gustation': { theme: 'cuisine' },
  'resto': { theme: 'cuisine' },
  'restaurant': { theme: 'cuisine' },
  'restaurants': { theme: 'cuisine' },
  'brunch': { theme: 'cuisine' },
  'bistrot': { theme: 'cuisine' },
  'bar': { theme: 'cuisine' },
  'cocktail': { theme: 'cuisine' },
  'cocktails': { theme: 'cuisine' },
  'biÃ¨re': { theme: 'cuisine' },
  'brasserie': { theme: 'cuisine' },
  'cafÃ©': { theme: 'cuisine' },
  'thÃ©': { theme: 'cuisine' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // Ã‰COLOGIE / NATURE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'Ã©cologie': { theme: 'ecologie' },
  'ecologie': { theme: 'ecologie' },
  'Ã©colo': { theme: 'ecologie' },
  'Ã©cologique': { theme: 'ecologie' },
  'environnement': { theme: 'ecologie' },
  'environnemental': { theme: 'ecologie' },
  'nature': { theme: 'ecologie' },
  'naturel': { theme: 'ecologie' },
  'bio': { theme: 'ecologie' },
  'biologique': { theme: 'ecologie' },
  'vegan': { theme: 'ecologie' },
  'vÃ©gane': { theme: 'ecologie' },
  'vÃ©gÃ©tarien': { theme: 'ecologie' },
  'vÃ©gÃ©tarienne': { theme: 'ecologie' },
  'vÃ©gÃ©tal': { theme: 'ecologie' },
  'climat': { theme: 'ecologie' },
  'climatique': { theme: 'ecologie' },
  'durable': { theme: 'ecologie' },
  'durabilitÃ©': { theme: 'ecologie' },
  'zÃ©ro dÃ©chet': { theme: 'ecologie' },
  'zero waste': { theme: 'ecologie' },
  'recyclage': { theme: 'ecologie' },
  'recycler': { theme: 'ecologie' },
  'planÃ¨te': { theme: 'ecologie' },
  'terre': { theme: 'ecologie' },
  'permaculture': { theme: 'ecologie' },
  'jardin': { theme: 'ecologie' },
  'jardinage': { theme: 'ecologie' },
  'potager': { theme: 'ecologie' },
  'plante': { theme: 'ecologie' },
  'plantes': { theme: 'ecologie' },
  'botanique': { theme: 'ecologie' },
  'forÃªt': { theme: 'ecologie' },
  'animaux': { theme: 'ecologie' },
  'animal': { theme: 'ecologie' },
  'animalier': { theme: 'ecologie' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // JEUX / GAMING
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'jeu': { theme: 'jeux' },
  'jeux': { theme: 'jeux' },
  'jouer': { theme: 'jeux' },
  'joueur': { theme: 'jeux' },
  'joueuse': { theme: 'jeux' },
  'gaming': { theme: 'jeux' },
  'gamer': { theme: 'jeux' },
  'gameuse': { theme: 'jeux' },
  'videogame': { theme: 'jeux' },
  'jeu vidÃ©o': { theme: 'jeux' },
  'jeux vidÃ©o': { theme: 'jeux' },
  'console': { theme: 'jeux' },
  'pc gamer': { theme: 'jeux' },
  'playstation': { theme: 'jeux' },
  'xbox': { theme: 'jeux' },
  'nintendo': { theme: 'jeux' },
  'switch': { theme: 'jeux' },
  'steam': { theme: 'jeux' },
  'esport': { theme: 'jeux' },
  'e-sport': { theme: 'jeux' },
  'compÃ©titif': { theme: 'jeux' },
  'mmorpg': { theme: 'jeux' },
  'rpg': { theme: 'jeux' },
  'fps': { theme: 'jeux' },
  'stratÃ©gie': { theme: 'jeux' },
  'simulation': { theme: 'jeux' },
  'streamer': { theme: 'jeux' },
  'twitch': { theme: 'jeux' },
  'jeu de sociÃ©tÃ©': { theme: 'jeux' },
  'jeux de sociÃ©tÃ©': { theme: 'jeux' },
  'boardgame': { theme: 'jeux' },
  'Ã©checs': { theme: 'jeux' },
  'poker': { theme: 'jeux' },
  'cartes': { theme: 'jeux' },
  'jeu de rÃ´le': { theme: 'jeux' },
  'roleplay': { theme: 'jeux' },
  'donjons et dragons': { theme: 'jeux' },
  'd&d': { theme: 'jeux' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // SPIRITUALITÃ‰
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'spirituel': { theme: 'spiritualite' },
  'spirituelle': { theme: 'spiritualite' },
  'spiritualitÃ©': { theme: 'spiritualite' },
  'mÃ©ditation': { theme: 'spiritualite' },
  'mÃ©diter': { theme: 'spiritualite' },
  'mindfulness': { theme: 'spiritualite' },
  'pleine conscience': { theme: 'spiritualite' },
  'bouddhisme': { theme: 'spiritualite' },
  'bouddhiste': { theme: 'spiritualite' },
  'zen': { theme: 'spiritualite' },
  'hindouisme': { theme: 'spiritualite' },
  'yoga spirituel': { theme: 'spiritualite' },
  'chakra': { theme: 'spiritualite' },
  'Ã©nergie': { theme: 'spiritualite' },
  'Ã©nergÃ©tique': { theme: 'spiritualite' },
  'bien-Ãªtre': { theme: 'spiritualite' },
  'bienÃªtre': { theme: 'spiritualite' },
  'dÃ©veloppement personnel': { theme: 'spiritualite' },
  'croissance': { theme: 'spiritualite' },
  'Ã¢me': { theme: 'spiritualite' },
  'karma': { theme: 'spiritualite' },
  'retraite': { theme: 'spiritualite' },
  'ashram': { theme: 'spiritualite' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // INTENTIONS : AMITIÃ‰
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'ami': { intention: 'amitie' },
  'amie': { intention: 'amitie' },
  'amis': { intention: 'amitie' },
  'amies': { intention: 'amitie' },
  'amitiÃ©': { intention: 'amitie' },
  'amitiÃ©s': { intention: 'amitie' },
  'pote': { intention: 'amitie' },
  'potes': { intention: 'amitie' },
  'copain': { intention: 'amitie' },
  'copine': { intention: 'amitie' },
  'copains': { intention: 'amitie' },
  'copines': { intention: 'amitie' },
  'buddy': { intention: 'amitie' },
  'pal': { intention: 'amitie' },
  'camarade': { intention: 'amitie' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // INTENTIONS : ROMANCE
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'amour': { intention: 'romance' },
  'amoureuse': { intention: 'romance' },
  'amoureux': { intention: 'romance' },
  'romantique': { intention: 'romance' },
  'romance': { intention: 'romance' },
  'relation': { intention: 'romance' },
  'rencontre': { intention: 'romance' },
  'rencontres': { intention: 'romance' },
  'dating': { intention: 'romance' },
  'date': { intention: 'romance' },
  'couple': { intention: 'romance' },
  'partenaire': { intention: 'romance' },
  'Ã¢me soeur': { intention: 'romance' },
  'moitiÃ©': { intention: 'romance' },
  'sÃ©duire': { intention: 'romance' },
  'sÃ©duction': { intention: 'romance' },
  'flirt': { intention: 'romance' },
  'flirter': { intention: 'romance' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // INTENTIONS : PROJET
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'projet': { intention: 'projet' },
  'projets': { intention: 'projet' },
  'collaboration': { intention: 'projet' },
  'collaborer': { intention: 'projet' },
  'collaborateur': { intention: 'projet' },
  'crÃ©er ensemble': { intention: 'projet' },
  'co-crÃ©er': { intention: 'projet' },
  'cocrÃ©er': { intention: 'projet' },
  'monter': { intention: 'projet' },
  'lancer': { intention: 'projet' },
  'entreprendre': { intention: 'projet' },
  'associÃ©': { intention: 'projet' },
  'associÃ©e': { intention: 'projet' },
  'cofondateur': { intention: 'projet' },
  'partenariat': { intention: 'projet' },
  'business': { intention: 'projet' },
  'freelance': { intention: 'projet' },
  'indÃ©pendant': { intention: 'projet' },

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // INTENTIONS : DISCUSSIONS
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  'discuter': { intention: 'discussions' },
  'discussion': { intention: 'discussions' },
  'discussions': { intention: 'discussions' },
  'parler': { intention: 'discussions' },
  'Ã©changer': { intention: 'discussions' },
  'Ã©change': { intention: 'discussions' },
  'Ã©changes': { intention: 'discussions' },
  'partager': { intention: 'discussions' },
  'partage': { intention: 'discussions' },
  'conversation': { intention: 'discussions' },
  'conversations': { intention: 'discussions' },
  'causer': { intention: 'discussions' },
  'papoter': { intention: 'discussions' },
  'bavarder': { intention: 'discussions' },
  'rÃ©seauter': { intention: 'discussions' },
  'networking': { intention: 'discussions' },
};

// Villes connues
const CITIES = [
  'paris', 'lyon', 'marseille', 'toulouse', 'nice', 'nantes', 'bordeaux', 'lille',
  'strasbourg', 'rennes', 'montpellier', 'grenoble', 'toulon', 'dijon', 'angers',
  'reims', 'saint-Ã©tienne', 'le havre', 'clermont-ferrand', 'amiens',
  'limoges', 'tours', 'metz', 'besanÃ§on', 'orlÃ©ans', 'rouen', 'caen', 'nancy',
  'new york', 'los angeles', 'chicago', 'san francisco', 'boston', 'miami', 'seattle',
  'london', 'londres', 'manchester', 'birmingham', 'edinburgh', 'dublin',
  'berlin', 'munich', 'hambourg', 'francfort', 'cologne',
  'madrid', 'barcelona', 'barcelone', 'valencia', 'sÃ©ville',
  'rome', 'milan', 'florence', 'venise', 'naples',
  'amsterdam', 'rotterdam', 'bruxelles', 'bruges', 'anvers',
  'lisbonne', 'porto',
  'genÃ¨ve', 'zurich', 'berne',
  'vienne', 'prague', 'budapest', 'varsovie', 'cracovie',
  'stockholm', 'oslo', 'copenhague', 'helsinki',
  'tokyo', 'kyoto', 'osaka', 'seoul', 'singapour', 'hong kong', 'bangkok', 'bali',
  'sydney', 'melbourne', 'auckland',
  'montreal', 'toronto', 'vancouver', 'quebec',
  'dubai', 'tel aviv', 'le caire', 'casablanca', 'marrakech',
  'rio', 'sao paulo', 'buenos aires', 'mexico', 'bogota', 'lima',
  'cape town', 'johannesburg', 'nairobi',
];

// Mots vides Ã  ignorer
const STOP_WORDS = [
  'je', 'tu', 'il', 'elle', 'on', 'nous', 'vous', 'ils', 'elles',
  'un', 'une', 'le', 'la', 'les', 'des', 'du', 'de', 'Ã ', 'au', 'aux',
  'et', 'ou', 'mais', 'donc', 'car', 'ni', 'que', 'qui', 'quoi', 'dont',
  'ce', 'cette', 'ces', 'mon', 'ma', 'mes', 'ton', 'ta', 'tes',
  'son', 'sa', 'ses', 'notre', 'votre', 'leur', 'leurs',
  'pour', 'avec', 'sans', 'dans', 'sur', 'sous', 'par', 'entre', 'vers',
  'chez', 'contre', 'depuis', 'pendant', 'avant', 'aprÃ¨s',
  'Ãªtre', 'avoir', 'faire', 'aller', 'pouvoir', 'vouloir', 'devoir', 'savoir',
  'suis', 'es', 'est', 'sommes', 'Ãªtes', 'sont',
  'ai', 'as', 'avons', 'avez', 'ont',
  'fais', 'fait', 'faisons', 'faites', 'font',
  'vais', 'vas', 'va', 'allons', 'allez', 'vont',
  'aime', 'aimes', 'aimons', 'aimez', 'aiment',
  'cherche', 'cherches', 'cherchons', 'cherchez', 'cherchent',
  'recherche', 'recherches', 'recherchons', 'recherchez', 'recherchent',
  'veux', 'veut', 'voulons', 'voulez', 'veulent',
  'quelqu', 'quelque', 'quelquun', 'quelques', 'personne', 'gens',
  'trÃ¨s', 'bien', 'bon', 'bonne', 'bons', 'bonnes',
  'beau', 'belle', 'beaux', 'belles',
  'grand', 'grande', 'grands', 'grandes',
  'petit', 'petite', 'petits', 'petites',
  'aussi', 'plus', 'moins', 'tout', 'tous', 'toute', 'toutes',
  'autre', 'autres', 'mÃªme', 'mÃªmes',
  'ici', 'lÃ ', 'oÃ¹', 'quand', 'comment', 'pourquoi',
  'oui', 'non', 'peut', 'peuvent', 'doit', 'doivent',
  'comme', 'si', 'alors', 'encore', 'toujours', 'jamais',
  'vraiment', 'surtout', 'beaucoup', 'peu', 'trop', 'assez',
];

export interface ExtractedKeywords {
  themes: string[];
  intentions: string[];
  city: string | null;
}

export function extractKeywords(text: string): ExtractedKeywords {
  const normalized = text.toLowerCase().trim();
  const words = normalized.split(/[\s,;.!?']+/).filter(w => w.length > 2);

  const themes = new Set<string>();
  const intentions = new Set<string>();
  let city: string | null = null;

  // Chercher ville (expressions de plusieurs mots d'abord)
  for (const c of CITIES) {
    if (normalized.includes(c)) {
      city = c.split(' ').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ');
      break;
    }
  }

  // Chercher mots-clÃ©s simples
  for (const word of words) {
    if (STOP_WORDS.includes(word)) continue;

    const match = KEYWORD_MAP[word];
    if (match) {
      if (match.theme) themes.add(match.theme);
      if (match.intention) intentions.add(match.intention);
    }
  }

  // Chercher expressions de 2-3 mots
  for (let i = 0; i < words.length - 1; i++) {
    const twoWords = `${words[i]} ${words[i + 1]}`;
    const match2 = KEYWORD_MAP[twoWords];
    if (match2) {
      if (match2.theme) themes.add(match2.theme);
      if (match2.intention) intentions.add(match2.intention);
    }

    if (i < words.length - 2) {
      const threeWords = `${words[i]} ${words[i + 1]} ${words[i + 2]}`;
      const match3 = KEYWORD_MAP[threeWords];
      if (match3) {
        if (match3.theme) themes.add(match3.theme);
        if (match3.intention) intentions.add(match3.intention);
      }
    }
  }

  return {
    themes: Array.from(themes),
    intentions: Array.from(intentions),
    city,
  };
}

// Labels pour affichage
export const THEME_LABELS: Record<string, string> = {
  'musique': 'ğŸµ Musique',
  'art': 'ğŸ¨ Art',
  'photo': 'ğŸ“· Photo',
  'cinema': 'ğŸ¬ CinÃ©ma',
  'litterature': 'ğŸ“š LittÃ©rature',
  'science': 'ğŸ”¬ Science/Tech',
  'politique': 'ğŸ›ï¸ Politique',
  'philosophie': 'ğŸ¤” Philosophie',
  'voyage': 'âœˆï¸ Voyage',
  'sport': 'âš½ Sport',
  'cuisine': 'ğŸ³ Cuisine',
  'ecologie': 'ğŸŒ± Ã‰cologie',
  'jeux': 'ğŸ® Jeux',
  'spiritualite': 'âœ¨ SpiritualitÃ©',
};

export const INTENTION_LABELS_EXTRACTED: Record<string, string> = {
  'amitie': 'ğŸ‘‹ AmitiÃ©',
  'romance': 'â¤ï¸ Romance',
  'projet': 'ğŸš€ Projet',
  'discussions': 'ğŸ’¬ Discussions',
};
